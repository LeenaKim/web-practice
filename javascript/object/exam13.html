<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
/* 
	JSON (JavaScript Object Notation) : 자바스크립트 객체를 의미 
	=> api 쓸때 json 객체로 받아다가 parse시켜서 객체화시켜서 멤버변수들을 .으로 접근 가능 
	=> 백엔드와 프론트엔드간 데이터를 주고받을때 JSON으로 주고받는다. 
*/
	/* 
		JSON.stringify() : JSON 객체의 값을 문자열로 변환시켜주는 함수 
		JSON.parse() 	 : 자바스크립트 문자열을 자바스크립트 객체로 다시 바꿔주는 함수 
	*/
	let person = {
			'name' : '홍길동',
			'phone' : '010-1111-2222',
			'addr' : '서울시 서초구 서초동',
			toJSON : function() {
				return {// 실제 멤버변수는 세개지만 난 두개만 넘기겠다 - 콘솔에 name, addr만 나옴. 
					"name" : this.name,
					"addr" : this.addr
				}
			}
	}
	
//	console.log(person);
//	console.log(JSON.stringify(person), typeof JSON.stringify(person))	//{"name":"홍길동","phone":"010-1111-2222"} / string 
//	console.log(person.toString()) // toString과의 차이가 뭘까?
		
	// 객체 -> 문자열 
	let strPerson = JSON.stringify(person)
	console.log(strPerson)
	console.log(typeof strPerson)
	
	// 문자열 -> 객체 
	let obj = JSON.parse(strPerson)
	console.log(obj)
	console.log(typeof obj)
	
	document.write('name : ' + obj.name  + ', phone : ' + obj.phone + ', addr : ' + obj.addr);

	let str = '{"id" : "hong", "password" : "1234"}';
//	let obj2 = eval(str)	// eval함수는 파싱 인식을 잘 못함. 
	let obj2 = JSON.parse(str);
	console.log(obj2)
	document.write('<hr>');
	document.write('id : ' + obj2.id + ', password : ' + obj2.password);
</script>
</head>
<body>

</body>
</html>